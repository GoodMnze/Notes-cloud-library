<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/605138 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1569"/>

<div>
<span><div style="text-align: center;"><span style="box-sizing: border-box; font-size: 24pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑; font-weight: bold;">Spring DAO</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br style="box-sizing: border-box;"/></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; font-size: 14pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑; font-weight: bold;">一、为什么要使用连接池</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">使用</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: &quot;Courier New&quot;;">JDBC</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">访问</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">数据库</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">时</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">，</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">频繁的打开连接和关闭连接，造成性能影响。</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 浪漫雅圆;">连接池Connection Pool，</span><span style="box-sizing: border-box; font-size: medium; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 浪漫雅圆;"> </span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">负责分配、管理和释放数据库连接。</span><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: black; font-family: 浪漫雅圆;">避免频繁的对数据库进行连接和关闭，从而提高数据库的访问性能。可以将一定数量的 Connection对象创建好之后存储到连接池中，当需要访问数据库时，从连接池中拿取一个 Connection对象，用完后再还回连接池中。</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br style="box-sizing: border-box; font-family: 浪漫雅圆; font-size: 12pt;"/></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(0, 0, 0); font-family: 微软雅黑; font-weight: bold;">二、连接池使用步骤XML配置步骤</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑;">druid连接池，由阿里巴巴开发，应用在阿里巴巴600多个项目当中。</span></div><div><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑; font-weight: bold;">1、添加druid依赖库</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: Monaco;">&lt;!-- 7</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: 宋体;">、</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: Monaco;">Alibaba</span><span style="background-color: rgb(255, 255, 255); font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">下的</span><span style="background-color: rgb(255, 255, 255); font-size: 9pt; color: rgb(4, 128, 74); font-family: Monaco;">Druid</span><span style="background-color: rgb(255, 255, 255); font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">数据源依赖包</span><span style="background-color: rgb(255, 255, 255); font-size: 9pt; color: rgb(4, 128, 74); font-family: Monaco;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">dependency</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">groupId</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">com.alibaba</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">groupId</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">artifactId</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">druid</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">artifactId</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">version</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">1.1.10</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">version</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco;">dependency</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&gt;</span></div></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">2、在applicationContext.xml中配置druid连接池</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--Spring</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">有一个类，用来关联数据源对象<span style="box-sizing: border-box; font-size: 9pt; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;; font-weight: bold;">LazyConnectionDataSourceProxy</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    1、代理了目标数据源 dataSource 的所有方法，其中在 invoke 方法，Spring使用了排除法；</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    2、只有 dataSource 获取到Connection之后，在执行 java.sql.Connection#prepareStatement(java.lang.String) 时候，Spring 才会主动去数据库链接池中获取 Connection ，这样做的好处就是提高数据库链接的使用率和效率；</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">id</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(222, 87, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">ds_druid</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;org.springframework.jdbc.datasource.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;; font-weight: bold;">LazyConnectionDataSourceProxy</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">targetDataSource</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;!--</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">可以不需要配置驱动包，</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">druid</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">可以根据配置自动去获取对应的驱动</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;url&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;jdbc:oracle:thin:@127.0.0.1:1521:xe&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;username&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;你的用户名&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;password&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;你的密码&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;!--</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">其他属性</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;!--</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">连接池的初始化大小</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;initialSize&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;1&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;!--</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">最小连接数</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;minIdle&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;1&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;!--</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">最大活跃数</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;maxActive&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;5&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">    &lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">创建</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">JDBCTemplate</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">对象</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">id</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;jdbc&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;dataSource&quot;</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">ref</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">ds_druid</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">&gt;</span></div></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">3、简单测试</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: Monaco;">//</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: 宋体;">测试，从</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: Monaco;">Spring</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: 宋体;">容器中获取注入成功的</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: Monaco;">Bean</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: 宋体;">对象</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ApplicationContext ctx =</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">    new</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ClassPathXmlApplicationContext(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;applicationContext_druid.xml&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">JdbcTemplate jdbc = ctx.getBean(JdbcTemplate.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">class</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">String sql=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;insert into dept values(81,'</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">技术部</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">','</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">人工智能</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">')&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">int</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">i=jdbc.update(sql);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">System.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">out</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">.println(i&gt;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: Monaco;">0</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">?</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">成功</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">:</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">失败</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">);</span></div></div><div><a href="Spring DAO_files/DaoDemo.java"><img src="Spring DAO_files/eaef2422e09fd7d5dd741255042221d5.png" alt="DaoDemo.java"></a></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">4、</span><span style="font-size: 12pt; font-weight: bold;">DAO类</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><span style="background-color: rgb(255, 255, 255);"><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(130, 76, 6); font-family: Monaco;">/*1</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(130, 76, 6); font-family: Monaco;">XML</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(130, 76, 6); font-family: 宋体;">方式</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">（</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">1</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">）将所有的</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">DAO</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">继承</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">JdbcDaoSupport</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">父类</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">（</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">2</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">）子类可以通过</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">getJdbcTemplate()</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">获取</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">JdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">模板类对象</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">*</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">需要在</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">applicationContext.xml</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">文件中，注入当前</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">DAO</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">的</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">bean</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">对象</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">*</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">并使用</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">setter</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">注入方式，给 属性</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">jdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">赋值</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">* @author SMILE.Huang</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">* @date 2020-07-16 15:08</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">*/</span></div><div><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">public class</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">EmpDAO</span> <span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">extends</span> <font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: Monaco; font-weight: bold;">JdbcDaoSupport</span></font> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">{</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">    /*</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">查询所有</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">*/</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">    public</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">List&lt;Emp&gt; selectAll(){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">        String sql=</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;select</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco;">*</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">from emp order by</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">empno</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">desc&quot;</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">        return</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">getJdbcTemplate().query(sql,</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">                new</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">BeanPropertyRowMapper&lt;Emp&gt;(Emp.</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">));</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">    }</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">/*</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: 宋体;">根据主键查询员工信息</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">*/</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">    public</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">Emp selectById(Long empId){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">        String sql=</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;select</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco;">*</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">from emp where</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">empno</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">=?&quot;</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">        return</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">getJdbcTemplate().queryForObject(sql,</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">            new</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">BeanPropertyRowMapper&lt;&gt;(Emp.</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">),empId);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">    }</span></div><div style="font-size: 9pt;"><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(130, 76, 6);"/></div></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">    public</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">Integer doInsert(Emp emp){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">        String sql=</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">&quot;insert into emp(</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">empno</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">,</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">ename</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">,</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">job</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">,</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">sal</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">,</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">hiredate</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">,</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: Monaco; font-weight: bold;">deptno</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">)&quot;</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">+</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Monaco; font-weight: bold;">                &quot; values(?,?,?,?,?,?)&quot;</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: Monaco; font-weight: bold;">        return</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">getJdbcTemplate().update(sql,</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">            emp.getEmpno(),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">            emp.getEname(),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">        emp.getJob(),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">                emp.getSal(),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">            emp.getHiredate(),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">        emp.getDeptno());</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">    }</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: Monaco;">}</span></div></div><div><a href="Spring DAO_files/EmpDAO.java"><img src="Spring DAO_files/b7f39014ccc9b43830cb225c15e85a8b.png" alt="EmpDAO.java"></a></div><div><span style="font-size: 12pt; font-weight: bold;">5、在applicationContext.xml中添加DAO类的bean配置</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">配置</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">DAO</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">对象所需的资源</span> <span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">EmpDAO</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">必须继承</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">JdbcDaoSupport--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">id</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;empDAO&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;com.study.dao.</span><span style="font-size: 9pt; font-family: &quot;Courier New&quot;; font-weight: bold;">EmpDAO</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;jdbcTemplate&quot;</span> <span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;-evernote-highlight:true;">ref</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;jdbcTemplate&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div></div><div><a href="Spring DAO_files/applicationContext_dao.xml"><img src="Spring DAO_files/e1facba3205f9614604440a283cd1633.png" alt="applicationContext_dao.xml"></a></div><div><br/></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">6、测试DAO类的方法是否成功</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">private</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">EmpDAO</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">dao</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><br style="font-family: Courier New; font-size: 9pt; color: rgb(4, 128, 74);"/></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">@Before</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public void</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">init(){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">ApplicationContext ctx =</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">    new</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">ClassPathXmlApplicationContext(</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;applicationContext_dao.xml&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">    dao</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">= ctx.getBean(EmpDAO.</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">}</span></div><div style="font-size: 9pt;"><br style="font-family: Courier New; font-size: 9pt; color: rgb(4, 128, 74);"/></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">@Test</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public void</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">t1(){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    //</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">查询所有</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    List&lt;Emp&gt; list =</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">dao</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">.selectAll();</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">    for</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">(Emp emp : list) {</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        System.</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">out</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">.println(emp);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    }</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">}</span></div><div><br/></div></div><div><br/></div></div><div><a href="Spring DAO_files/DaoTest.java"><img src="Spring DAO_files/071a6b5804d16ce9d1c0e7afa4032780.png" alt="DaoTest.java"></a></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">三、连接池+DAO，零配置步骤</span></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">（一）、添加依赖druid和junit，略</span></div><div><span style="font-size: 12pt; font-weight: bold;">（二）、编写Pojo实体类</span></div><div>          <a href="Spring DAO_files/Dept.java"><img src="Spring DAO_files/97188ff1a7570bebab0578f3916bc39a.png" alt="Dept.java"></a></div><div><span style="font-weight: bold; line-height: 23px;">（三）编写jdbc</span><span style="font-size: 12pt; font-weight: bold; line-height: 23px;">.properties配置文件</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">#jdbc</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: 宋体;">字符串的连接信息单独保存在一个配置文件中</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbc.driver</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">oracle.jdbc.driver.OracleDriver</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbc.url</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbc:oracle:thin:@127.0.0.1:1521:xe</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbc.user</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">tr01601</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbc.pwd</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">123456</span></div><div><br/></div></div></div><div><a href="Spring DAO_files/jdbc.properties"><img src="Spring DAO_files/321891d1e29e5d4e142524cd74bd78fb.png" alt="jdbc.properties"></a></div><div><span style="font-size: 12pt; font-weight: bold;">（四）编写配置文件applicationContext.xml文件</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><span style="background-color: rgb(255, 255, 255);"><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--1</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: 宋体;">、配置扫描器</span><span style="font-size: 9pt; background-color: rgb(255, 255, 255); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">context</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">:component-scan</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">base-package</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;com.study.pojo&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--2</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">、加载</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">JDBC</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">连接配置文件</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">PropertyPlaceholderConfigurer--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;org.springframework.beans.factory.config.</span><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">PropertyPlaceholderConfigurer</span></span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;locations&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">list</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;&lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">jdbc.properties</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">list</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    &lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--3</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">、加载数据源对象</span> <span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">LazyConnectionDataSourceProxy--&gt;</span></div><div><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">id</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;</span><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">druid_ds</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;targetDataSource&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;!--</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">阿里巴巴的数据源可以根据数据库其他连接信息，自动识别驱动</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;url&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;${jdbc.url}&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;username&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;${jdbc.user}&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;password&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;${jdbc.pwd}&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;minIdle&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;1&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">最小连接数</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;initialSize&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;1&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">初始连接数大小</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">            &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;maxActive&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">value</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;5&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">最大活跃数</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">        &lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;!--4</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">、加载</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">JdbcTemplate</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: 宋体;">对象</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">--&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">id</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;jdbcTemplate&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">    &lt;</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">property</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">name</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;dataSource&quot;</span> <span style="font-size: 9pt; color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;; font-weight: bold;">ref</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=&quot;</span><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">druid_ds</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">/&gt;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">bean</span><span style="font-size: 9pt; color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">&gt;</span></div><div><br/></div></div><div><a href="Spring DAO_files/applicationContext_dao0.xml"><img src="Spring DAO_files/f3e4a95ef4cbc781e4a5c04b41fad5f0.png" alt="applicationContext_dao0.xml"></a></div><div><span style="font-size: 12pt; font-weight: bold;">（五）编写DAO类</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">/*/* 2</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">0</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">配置方式</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">+</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">注解方式</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">（</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">1</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">）</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">XML</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">中配置</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">JdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">对象及所需资源、以及零配置扫描器</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">（</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">2</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">）编写</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DAO</span><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">类，</span><span style="font-size: 9pt; background-color: rgb(255, 250, 165); font-family: &quot;Courier New&quot;; font-weight: bold;-evernote-highlight:true;">不需要继承任何父类</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">，但是一定要添加注解</span></span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Repository</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">（</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">3</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">）在</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DAO</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">类，通过注解</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Autowired</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">注入</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">JdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">模板对象</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* @author SMILE.Huang</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* @date 2020-06-19 16:09</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">零配置扫描器中的四个</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">Bean</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">对象注解，用于自动注入</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* 1</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Component</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">普通的</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">bean</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">的注解</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* 2</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Repository</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">用于注解</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DAO</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">类</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* 3</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Services</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">用于注解</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">Services</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">类</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* 4</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Controller</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">用户注解</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">Controller</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">零配置扫描中如何获取已经注入好的对象：</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* 1</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Autowired</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">2</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">、</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">@Qualifier</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* @author SMILE.Huang</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">* @date 2020-07-16 16:03</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*/</span></span></div><div><span style="font-size: 9pt; color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">@</span><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">Repository</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">()</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public class</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DeptDao{</span></div><div><span style="font-size: 9pt; color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">    </span><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">@Autowired</span></font></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    JdbcTemplate</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    /*</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">根据部门编号查询部门信息</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*/</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">    public</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">Dept selectById(Long deptno){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">        String sql=</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;select</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;;">*</span> <span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">from dept where</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">deptno</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">=?&quot;</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">            return</span> <span style="font-size: 9pt; color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">jdbcTemplate</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">.queryForObject(sql,</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">                new</span> <span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">BeanPropertyRowMapper&lt;&gt;(Dept.</span><span style="font-size: 9pt; color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">),</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">                    deptno);</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    }</span></span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">}</span></span></div><div><br/></div></div><div><a href="Spring DAO_files/DeptDao.java"><img src="Spring DAO_files/b099ca388a950cfd6b0aadaa60a2849d.png" alt="DeptDao.java"></a></div><div><span style="font-size: 12pt; font-weight: bold;">（六）编写Service类（此步骤可以省略，需要业务类的时候再写也行）</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 12pt;"><span style="background-color: rgb(251, 250, 248); font-size: 12pt; color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">@Service</span></font></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public class</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DeptService {</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(255, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">@Autowired</span></span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">//ctx.getBean(DeptDao.class)</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(255, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">@Qualifier</span></span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;deptDao&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">)</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">//ctx.getBean(&quot;id&quot;,DeptDao.class);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">DeptDao</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">dao</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><br style="font-family: Courier New; font-size: 9pt; color: rgb(130, 76, 6);"/></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public void</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">test(Long deptno){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    Dept dept =</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">dao</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">.selectById(deptno);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">    if</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">(dept==</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">null</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">        System.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">out</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">.println(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">不存在该部门信息</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    }</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">else</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">{</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">        System.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">out</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">.println(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: 宋体; font-weight: bold;">部门名字是：</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">+dept.getDname());</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">    }</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">}</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">}</span></div><div><br/></div></div><div><a href="Spring DAO_files/DeptService.java"><img src="Spring DAO_files/5f8a196b645c671e963462898c643559.png" alt="DeptService.java"></a></div><div><span style="font-size: 12pt; font-weight: bold;">（七）在单元测试类，调用方法进行测试</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public class</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">ZeroDaoTest {</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">private</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">DeptDao</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">dao</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">private</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">DeptService</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">ds</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">;</span></div><div style="font-size: 9pt;"><br style="font-family: Courier New; font-size: 9pt;"/></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">/*</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: 宋体;">读取配置文件</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*/</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">@Before</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public void</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">tt(){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">ApplicationContext clx=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">new</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">ClassPathXmlApplicationContext(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">&quot;applicationContext_dao0.xml&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">// dao = clx.getBean(DeptDao.class);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">ds</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">= clx.getBean(DeptService.</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">class</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">}</span></div><div style="font-size: 9pt;"><br style="font-family: Courier New; font-size: 9pt;"/></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">/*</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: 宋体;">编写</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">Test</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: 宋体;">方法</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(130, 76, 6); font-family: &quot;Courier New&quot;;">*/</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(128, 128, 0); font-family: &quot;Courier New&quot;;">@Test</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 128); font-family: &quot;Courier New&quot;; font-weight: bold;">public void</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">t1(){</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(4, 128, 74); font-family: &quot;Courier New&quot;;">// dao.selectById(20L);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(102, 14, 122); font-family: &quot;Courier New&quot;; font-weight: bold;">ds</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">.test(</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(0, 0, 255); font-family: &quot;Courier New&quot;;">20L</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">);</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">}</span></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); font-family: &quot;Courier New&quot;;">}</span></div><div><br/></div></div></div><div><a href="Spring DAO_files/ZeroDaoTest.java"><img src="Spring DAO_files/c118affe17eee76ea998645a31dd2df6.png" alt="ZeroDaoTest.java"></a></div><div><br/></div><div><span style="font-size: 14pt; font-weight: bold;">四、单元测试</span></div><div><br/></div><div><span style="box-sizing: border-box; font-size: 12pt; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(0, 0, 0); font-family: 微软雅黑; font-weight: bold;">1、引入依赖库</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="box-sizing: border-box; margin: 0px; padding: 0px; font-size: medium; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; margin: 0px; padding: 0px;"><span style="box-sizing: border-box; font-size: 10pt; min-height: 12pt; background-color: rgb(251, 250, 248); color: rgb(63, 95, 191); font-family: &quot;Courier New&quot;;">&lt;!--</span><span style="box-sizing: border-box; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="box-sizing: border-box; font-size: 10pt; min-height: 12pt; background-color: rgb(251, 250, 248); color: rgb(63, 95, 191); font-family: &quot;Courier New&quot;;">junit</span><span style="box-sizing: border-box; font-size: 10pt; min-height: 12pt; background-color: rgb(251, 250, 248); color: rgb(63, 95, 191); font-family: &quot;Courier New&quot;;">单元测试工具 --&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">dependency</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">   </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">groupId</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">junit</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">groupId</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">   </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">artifactId</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(227, 0, 0); font-family: &quot;Courier New&quot;; font-weight: bold;">junit</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">artifactId</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">   </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">version</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">4.12</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">version</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">   </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">scope</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: &quot;Courier New&quot;;">test</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">scope</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; min-height: 12pt;"><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&lt;/</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(63, 127, 127); font-family: &quot;Courier New&quot;;">dependency</span><span style="box-sizing: border-box; min-height: 12pt; font-size: 10pt; background-color: rgb(251, 250, 248); color: rgb(0, 128, 128); font-family: &quot;Courier New&quot;;">&gt;</span></div></div><div>    </div><div><span style="font-size: 12pt; font-weight: bold;">2、测试类</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">* 1</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@BeforeClass</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">修饰一个静态方法，会在</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Test</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法调用之前，类对象创建之前最先调用</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">等同于静态块。只会执行一次</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">* 2</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Before</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">修饰一个方法，会在</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Test</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法之前，</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@BeforeClass</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">修饰的方法之后被调用</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">有几个</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Test</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法，</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Before</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">就执行几次</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(227, 0, 0); font-weight: bold;">* 3</span><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: 宋体; font-weight: bold;">、</span><span style="font-size: 12pt; color: rgb(227, 0, 0); font-weight: bold;">@Test</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">启动</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">JUnit</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">单元测试的主体方法，一个类中可以有多个。等同于</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">main</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">* 4</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@After</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">修饰一个方法，会在</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Test</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法之后</span></div><div style="font-size: 12pt;"><div><br/></div></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">有几个</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Test</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">方法，</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@After</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">就执行几次</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">* 5</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@AfterClass</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">在所有方法之后，类销毁之前被调用。</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">一般用于释放资源。只执行一次</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">* 6</span><span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">、</span><span style="font-size: 12pt; color: rgb(130, 76, 6);">@Ignore</span></div><div style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(130, 76, 6);">*</span> <span style="font-size: 12pt; color: rgb(130, 76, 6); font-family: 宋体;">忽略的方法，修饰的是一个不会自动启用的方法</span></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">假设前提是Test类中有两个@Test修饰的方法，</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">请描述每个注解修饰的方法的调用顺序</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">1、@BeforeClass  修饰的是静态方法</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-----------------------</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2、@Before</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">3、@Test</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">4、@After</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-------------------------------</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">5、@Before</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">6、@Test</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">7、@After</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">--------------------</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">8、@AfterClass  修饰的是静态方法</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><hr/><div><span style="font-size: 9pt;">Spring DAO  XML配置步骤</span></div></div><div><span style="font-size: 9pt;">1、导入连接池依赖</span></div><div><span style="font-size: 9pt;">    com.alibaba.druid</span></div><div><span style="font-size: 9pt;">2、在核心配置文件中添加数据源对象</span></div><div><span style="font-size: 9pt;">    ① 引入spring自带的        LazyConnectionDataSourceProxy</span></div><div><span style="font-size: 9pt;">    ② 构造器注入/setter注入找到targetdataSource属性</span></div><div><span style="font-size: 9pt;">    ③ 添加DruidDataSource对象</span></div><div><span style="font-size: 9pt;">    ④ 利用setter注入，给</span></div><div><span style="font-size: 9pt;">        driverClassName</span></div><div><span style="font-size: 9pt;">        url</span></div><div><span style="font-size: 9pt;">        username</span></div><div><span style="font-size: 9pt;">        password</span></div><div><span style="font-size: 9pt;">        等属性进行赋值</span></div><div><span style="font-size: 9pt;">3、JdbcTemplate对象</span></div><div><span style="font-size: 9pt;">    ① 引入JdbcTemplate对象</span></div><div><span style="font-size: 9pt;">    ② 通过setter注入，给属性dataSource，引入第2步的数据源对象</span></div><div><span style="font-size: 9pt;">4、写实体类</span></div><div><span style="font-size: 9pt;">5、写DAO类</span></div><div><span style="font-size: 9pt;">    ① 需要继承JdbcDAOSupport类，可以直接使用父类的对象jdbcTemplate</span></div><div><span style="font-size: 9pt;">    ② 写原子性操作，如增删改查等</span></div><div><span style="font-size: 9pt;">6、重新在核心配置文件中，配置DAO对象</span></div><div><span style="font-size: 9pt;">    ① 引入bean对象</span></div><div><span style="font-size: 9pt;">    ② 通过setter注入方式，给属性jdbcTemplate赋值。引入第3步的bean对象</span></div><div><span style="font-size: 9pt;">7、写测试方法</span></div><div><span style="font-size: 9pt;">--------------------------------------------------------</span></div><div><span style="font-size: 9pt;">Spring DAO  零配置扫描+注解配置步骤</span></div><div><span style="font-size: 9pt;">1、导入依赖包</span></div><div><span style="font-size: 9pt;">2、在核心配置文件中</span></div><div><span style="font-size: 9pt;">    ① 零配置扫描器</span></div><div><span style="font-size: 9pt;">    ② 导入外部的jdbc连接信息的配置文件jdbc.properties</span></div><div><span style="font-size: 9pt;">        PropertyPlaceHolderConfigurer</span></div><div><span style="font-size: 9pt;">    ③ 加载Druid连接池</span></div><div><span style="font-size: 9pt;">    ④ 加载数据源对象LazyConnectionDataSourceProxy</span></div><div><span style="font-size: 9pt;">    ⑤ 加载JdbcTemplate</span></div><div><span style="font-size: 9pt;">3、实体类</span></div><div><span style="font-size: 9pt;">4、DAO类</span></div><div><span style="font-size: 9pt;">    ① 添加注解@Repository</span></div><div><span style="font-size: 9pt;">    ② 自动注入@Autowired jdbcTemplate对象</span></div><div><span style="font-size: 9pt;">    ③ 编写CRUD方法</span></div><div><span style="font-size: 9pt;">5、业务类</span></div><div><span style="font-size: 9pt;">    ① 添加注解@Service</span></div><div><span style="font-size: 9pt;">    ② 自动注入@Autowird  dao对象</span></div><div><span style="font-size: 9pt;">    ③ 调用dao的方法</span></div><div><span style="font-size: 9pt;">6、编写测试类</span></div><div><br/></div><div><br style="font-size: 9pt;"/></div><div><br/></div></span>
</div></body></html> 